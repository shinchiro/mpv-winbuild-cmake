################################################################################
# MPV Input Configuration - High-Fidelity Controls
# Enhanced keybindings for quality control and SVP integration
################################################################################

###############
# PLAYBACK CONTROL
###############

SPACE               cycle pause                         # Play/Pause
.                   frame-step                          # Next frame
,                   frame-back-step                     # Previous frame
LEFT                seek -5                             # Seek 5s backward
RIGHT               seek 5                              # Seek 5s forward
UP                  seek 60                             # Seek 1min forward
DOWN                seek -60                            # Seek 1min backward
Shift+LEFT          seek -2 exact                       # Precise 2s backward
Shift+RIGHT         seek 2 exact                        # Precise 2s forward
Ctrl+LEFT           no-osd seek -1 exact                # Frame-precise backward
Ctrl+RIGHT          no-osd seek 1 exact                 # Frame-precise forward
HOME                seek 0 absolute                     # Jump to beginning
END                 seek 100 absolute-percent           # Jump to end
[                   multiply speed 0.9091               # Decrease speed
]                   multiply speed 1.1                  # Increase speed
{                   multiply speed 0.5                  # Half speed
}                   multiply speed 2.0                  # Double speed
BS                  set speed 1.0                       # Reset speed

###############
# AUDIO CONTROL
###############

m                   cycle mute                          # Mute
9                   add volume -2                       # Volume down
0                   add volume 2                        # Volume up
Ctrl+9              add volume -10                      # Volume down (large)
Ctrl+0              add volume 10                       # Volume up (large)
#                   cycle audio                         # Next audio track
_                   cycle audio down                    # Previous audio track
Ctrl+a              cycle audio-normalize-downmix       # Toggle audio normalization
Alt+a               af toggle dynaudnorm                # Toggle dynamic audio normalization

###############
# SUBTITLE CONTROL
###############

v                   cycle sub-visibility                # Toggle subtitles
j                   cycle sub                           # Next subtitle track
J                   cycle sub down                      # Previous subtitle track
z                   add sub-delay -0.1                  # Subtitle delay -100ms
Z                   add sub-delay +0.1                  # Subtitle delay +100ms
x                   add sub-scale -0.1                  # Decrease subtitle size
X                   add sub-scale +0.1                  # Increase subtitle size
Ctrl+z              set sub-delay 0                     # Reset subtitle delay
r                   add sub-pos -1                      # Move subtitles up
R                   add sub-pos +1                      # Move subtitles down
Alt+v               cycle sub-ass-override              # Toggle ASS override

###############
# VIDEO CONTROL & FILTERS
###############

f                   cycle fullscreen                    # Fullscreen toggle
ESC                 set fullscreen no                   # Exit fullscreen
d                   cycle deinterlace                   # Toggle deinterlacing
D                   cycle deband                        # Toggle debanding
h                   cycle-values hwdec "d3d11va" "d3d11va-copy" "no"  # Cycle HW decoding
1                   add contrast -1                     # Decrease contrast
2                   add contrast 1                      # Increase contrast
3                   add brightness -1                   # Decrease brightness
4                   add brightness 1                    # Increase brightness
5                   add gamma -1                        # Decrease gamma
6                   add gamma 1                         # Increase gamma
7                   add saturation -1                   # Decrease saturation
8                   add saturation 1                    # Increase saturation
Ctrl+1              set contrast 0                      # Reset contrast
Ctrl+2              set brightness 0                    # Reset brightness
Ctrl+3              set gamma 0                         # Reset gamma
Ctrl+4              set saturation 0                    # Reset saturation
Alt+1               cycle-values contrast "-5" "0" "5"  # Cycle contrast presets
Alt+2               cycle-values brightness "-5" "0" "5" # Cycle brightness presets

###############
# SCALING & QUALITY
###############

Ctrl+s              cycle-values scale "ewa_lanczos" "ewa_lanczossharp" "mitchell" "bicubic" "bilinear"  # Cycle upscale
Ctrl+d              cycle-values dscale "mitchell" "ewa_lanczos" "bicubic" "bilinear"                    # Cycle downscale
Ctrl+c              cycle-values cscale "ewa_lanczossoft" "ewa_lanczos" "bicubic" "bilinear"             # Cycle chroma scale
i                   cycle interpolation                 # Toggle interpolation (disable if using SVP)

###############
# ROTATION & ASPECT
###############

Alt+RIGHT           cycle-values video-rotate "0" "90" "180" "270"  # Rotate video
Alt+LEFT            cycle-values video-rotate "270" "180" "90" "0"  # Rotate video (reverse)
a                   cycle-values aspect "16:9" "16:10" "4:3" "2.35:1" "-1"  # Cycle aspect ratio
Ctrl+r              cycle-values video-aspect-override "16:9" "16:10" "4:3" "2.35:1" "-1"  # Force aspect ratio

###############
# WINDOW & DISPLAY
###############

t                   cycle ontop                         # Toggle always on top
w                   cycle window-scale                  # Cycle window scale
Alt+0               set window-scale 0.5                # 50% window size
Alt+1               set window-scale 1.0                # 100% window size
Alt+2               set window-scale 2.0                # 200% window size
Alt+f               cycle border                        # Toggle window border
p                   cycle-values video-sync "display-resample" "audio" "display-resample-vdrop"  # Cycle sync mode

###############
# INFORMATION & STATS
###############

o                   cycle-values osd-level 3 1 0        # Cycle OSD level
O                   cycle-values osd-level 0 1 3        # Cycle OSD level (reverse)
`                   script-binding stats/display-stats-toggle  # Toggle stats
~                   script-binding stats/display-page-1 # Stats page 1
!                   script-binding stats/display-page-2 # Stats page 2 (frame timings)
@                   script-binding stats/display-page-3 # Stats page 3 (cache)
I                   show-text ${file-format}            # Show file format
Ctrl+i              show-text "Resolution: ${width}x${height}\nFPS: ${container-fps}\nCodec: ${video-codec}\nBitrate: ${video-bitrate}"  # Show video info

###############
# SCREENSHOTS
###############

s                   screenshot                          # Screenshot (with subs)
S                   screenshot video                    # Screenshot (no subs)
Ctrl+s              screenshot window                   # Screenshot (entire window)
Alt+s               screenshot each-frame               # Screenshot each frame

###############
# PLAYLIST NAVIGATION
###############

ENTER               playlist-next                       # Next file
Shift+ENTER         playlist-prev                       # Previous file
<                   playlist-prev                       # Previous file
>                   playlist-next                       # Next file
Ctrl+p              show-text ${playlist}               # Show playlist

###############
# CHAPTER NAVIGATION
###############

PGUP                add chapter 1                       # Next chapter
PGDWN               add chapter -1                      # Previous chapter
Shift+PGUP          seek 600                            # Jump 10 minutes forward
Shift+PGDWN         seek -600                           # Jump 10 minutes backward

###############
# LOOP CONTROL
###############

l                   cycle-values loop-file "inf" "no"   # Toggle file loop
L                   cycle-values loop-playlist "inf" "no" # Toggle playlist loop
Alt+l               ab-loop                             # Set A-B loop points

###############
# PROFILE SWITCHING
###############

F1                  apply-profile 4k-downscale          # Apply 4K profile
F2                  apply-profile 1080p-upscale         # Apply 1080p profile
F3                  apply-profile low-quality           # Apply low-quality profile
F4                  apply-profile anime                 # Apply anime profile
F5                  apply-profile restore               # Restore default profile

###############
# SVP SPECIFIC CONTROLS
###############

Ctrl+f              cycle-values vf "vapoursynth=~~/svp.vpy" ""  # Toggle SVP filter
Alt+h               cycle-values hwdec "d3d11va" "no"   # Toggle HW decode for SVP
Alt+p               cycle-values video-sync "display-resample" "audio"  # Cycle sync for SVP

###############
# SHADER CONTROLS
###############

F6                  change-list glsl-shaders toggle "~~/shaders/Anime4K_Upscale_CNN_x2_M.glsl"  # Toggle Anime4K
F7                  change-list glsl-shaders toggle "~~/shaders/adaptive-sharpen.glsl"  # Toggle sharpening
F8                  change-list glsl-shaders toggle "~~/shaders/SSimDownscaler.glsl"  # Toggle SSIM downscaler
F9                  change-list glsl-shaders toggle "~~/shaders/FSRCNNX_x2_16-0-4-1.glsl"  # Toggle FSRCNNX
F10                 change-list glsl-shaders clr ""     # Clear all shaders

###############
# ZOOM & PAN
###############

Alt++               add video-zoom 0.1                  # Zoom in
Alt+-               add video-zoom -0.1                 # Zoom out
Alt+0               set video-zoom 0; set video-pan-x 0; set video-pan-y 0  # Reset zoom/pan
Alt+LEFT            add video-pan-x -0.01               # Pan left
Alt+RIGHT           add video-pan-x 0.01                # Pan right
Alt+UP              add video-pan-y -0.01               # Pan up
Alt+DOWN            add video-pan-y 0.01                # Pan down

###############
# ADVANCED CONTROLS
###############

Ctrl+h              cycle-values hwdec "auto" "d3d11va" "d3d11va-copy" "dxva2" "dxva2-copy" "no"  # Cycle all HW decoders
Ctrl+v              cycle-values vo "gpu-next" "gpu" "direct3d"  # Cycle video output
Ctrl+g              cycle-values gpu-api "d3d11" "vulkan" "opengl"  # Cycle GPU API
Ctrl+t              cycle-values tone-mapping "bt.2390" "mobius" "hable" "reinhard"  # Cycle tone mapping
Ctrl+d              cycle-values dither "fruit" "ordered" "error-diffusion" "no"  # Cycle dither

###############
# QUALITY PRESETS
###############

KP0                 set deband yes; set deband-iterations 4; set scale ewa_lanczos  # Quality preset 1
KP1                 set deband yes; set deband-iterations 6; set scale ewa_lanczossharp  # Quality preset 2
KP2                 set deband no; set scale bilinear                               # Performance preset

###############
# QUIT
###############

q                   quit                                # Quit
Q                   quit-watch-later                    # Quit and save position
Ctrl+c              quit 4                              # Force quit

###############
# MISC
###############

TAB                 cycle-values osd-level 3 0          # Toggle full OSD
DEL                 playlist-remove current             # Remove current file from playlist
INS                 playlist-shuffle                    # Shuffle playlist
PRINT               screenshot                          # Screenshot (print screen key)
POWER               quit                                # Quit on power button
PLAY                cycle pause                         # Play/pause (media key)
PAUSE               cycle pause                         # Play/pause (media key)
PLAYPAUSE           cycle pause                         # Play/pause (media key)
STOP                quit                                # Stop (media key)
FORWARD             seek 10                             # Seek forward (media key)
REWIND              seek -10                            # Seek backward (media key)
NEXT                playlist-next                       # Next (media key)
PREV                playlist-prev                       # Previous (media key)
VOLUME_UP           add volume 2                        # Volume up (media key)
VOLUME_DOWN         add volume -2                       # Volume down (media key)
MUTE                cycle mute                          # Mute (media key)

###############
# MOUSE BINDINGS
###############

WHEEL_UP            add volume 2                        # Volume up
WHEEL_DOWN          add volume -2                       # Volume down
WHEEL_LEFT          seek -10                            # Seek backward
WHEEL_RIGHT         seek 10                             # Seek forward
MBTN_LEFT           cycle pause                         # Left click = pause
MBTN_LEFT_DBL       cycle fullscreen                    # Double click = fullscreen
MBTN_RIGHT          cycle pause                         # Right click = pause
MBTN_MID            cycle ontop                         # Middle click = always on top
MBTN_BACK           playlist-prev                       # Back button = previous file
MBTN_FORWARD        playlist-next                       # Forward button = next file

###############
# CONDITIONAL BINDINGS
###############

# These only work when certain conditions are met
#Alt+h vf toggle format=fmt=yuv420p   # Force YUV420P format
#Ctrl+Shift+d cycle-values hwdec "d3d11va" "auto-copy" "no"  # Development HW decode cycle

################################################################################
# USAGE NOTES
################################################################################
#
# This input.conf provides comprehensive controls for high-fidelity playback
#
# KEY FEATURES:
# - F1-F5: Quick profile switching
# - F6-F10: Shader toggles
# - Ctrl+ combinations: Advanced settings
# - Alt+ combinations: Display adjustments
# - Number keys: Color adjustments
#
# SVP USERS:
# - Press Ctrl+f to toggle SVP filter
# - Press Alt+h to toggle hardware decoding for SVP processing
# - Press 'i' to disable interpolation (let SVP handle it)
#
# TROUBLESHOOTING:
# - Press Ctrl+h to cycle through hardware decoders
# - Press Ctrl+v to change video output
# - Press ~ to see performance stats
#
# Place this file as: <mpv-folder>/portable_config/input.conf
################################################################################
